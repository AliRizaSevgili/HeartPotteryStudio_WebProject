<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<!-- CSRF token iÃ§in gizli alan (sayfanÄ±n en baÅŸÄ±na) -->
<input type="hidden" name="_csrf" value="{{@root.csrfToken}}">

<!-- GÃ¶rsel ve BaÅŸlÄ±k BÃ¶lÃ¼mÃ¼ -->
<section class="bg-white pt-8 pb-0 px-6 sm:px-12 lg:px-24 font-sans text-gray-700 text-center">
  <div class="max-w-3xl mx-auto mb-6">
    <img 
      src="{{classItem.image}}" 
      alt="{{classItem.title}}" 
      class="w-full h-[400px] object-cover object-center rounded-lg shadow-lg mx-auto"
    >
  </div>

  <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-2">{{classItem.title}}</h1>

  <p class="text-lg text-gray-700">
    <span class="font-semibold text-gray-900">{{classItem.price}}</span>
    <span class="text-gray-500"> per person</span>
  </p>
</section>

<!-- Detaylar BÃ¶lÃ¼mÃ¼ -->
<section class="bg-white pt-4 pb-8 px-6 sm:px-12 lg:px-24 font-sans text-gray-700 text-left animate-slideUpOnVisible opacity-0">
  <div class="max-w-3xl mx-auto space-y-6">

    <!-- GiriÅŸ ParagraflarÄ± -->
    <div class="space-y-2">
      {{#each classItem.intro}}
        <p>{{this}}</p>
      {{/each}}
    </div>

    <!-- Class Details -->
    <div>
      <h2 class="text-xl font-semibold text-[#b5651d] mb-2">Class Details</h2>
      <ul class="list-disc list-inside space-y-1">
        {{#each classItem.details}}
          <li>{{this}}</li>
        {{/each}}
      </ul>
    </div>

    <!-- Price Tekrar -->
    <div>
      <h2 class="text-xl font-semibold text-[#b5651d] mb-2">Price</h2>
      <p>{{classItem.price}}</p>
    </div>

    <!-- What's Included -->
    <div>
      <h2 class="text-xl font-semibold text-[#b5651d] mb-2">What's Included</h2>
      <ul class="list-disc list-inside space-y-1">
        {{#each classItem.included}}
          <li>{{this}}</li>
        {{/each}}
      </ul>
    </div>

    <!-- Pick-Up Information -->
    <div>
      <h2 class="text-xl font-semibold text-[#b5651d] mb-2">Pick-Up Information</h2>
      <p>{{classItem.pickupInfo}}</p>
    </div>

    <!-- Notes -->
    <div>
      <h2 class="text-xl font-semibold text-[#b5651d] mb-2">Notes</h2>
      <ul class="list-disc list-inside text-gray-700 space-y-1">
        {{#each classItem.notes}}
          <li>{{this}}</li>
        {{/each}}
      </ul>
    </div>

    <!-- Pick-Up Information -->
    <div>
      <h2 class="text-xl font-semibold text-[#b5651d] mb-2">Cancellation Policies & Disclaimer</h2>
      <p class="whitespace-pre-line">{{classItem.classRefund}}</p>
      
      <!-- Go to Full Policy -->
      <div class="mt-2">
        <a href="/returns" target="_blank" class="text-base text-[#b5651d] hover:underline hover:text-[#8c4516] transition">
          Transparency matters â€” read our full policy â†’
        </a>
      </div>
    </div>
  </div>
</section>

<div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-start">

    <!-- ðŸŸ¥ APRIL -->
    <div class="bg-white rounded-lg p-5 shadow space-y-4">
      <h2 class="text-xl font-bold text-[#b5651d] text-center">April 2025</h2>

      {{#each aprilDates}}
        <details class="group border border-gray-200 rounded">
          <summary class="flex justify-between items-center p-4 cursor-pointer bg-gray-100">
            <h4 class="text-md text-[#b5651d] font-medium">{{label}}</h4>
            <span class="transition group-open:rotate-180">
              <svg fill="none" height="20" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="20">
                <path d="M6 9l6 6 6-6"></path>
              </svg>
            </span>
          </summary>

          {{#each slots}}
            <div class="p-4 text-sm bg-white text-gray-700 space-y-2">
              <p><strong>Day:</strong> {{day}}</p>
              <p><strong>Date:</strong> {{date}}</p>
              <p><strong>Time:</strong> {{time}}</p>
              
              <!-- YENÄ° FORM -->
              <form method="POST" action="/reserve-slot">
                <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
                <input type="hidden" name="slotId" value="{{../id}}">
                <button type="submit" 
                  class="mt-2 {{#if ../isFull}}bg-gray-400{{else}}bg-[#b5651d]{{/if}} text-white px-3 py-1 rounded hover:{{#if ../isFull}}bg-gray-500{{else}}bg-[#8c4516]{{/if}} transition"
                  {{#if ../isFull}}disabled{{/if}}>
                  {{#if ../isFull}}Fully Booked{{else}}Select this slot{{/if}}
                </button>
              </form>
            </div>
          {{/each}}
        </details>
      {{/each}}
    </div>

    {{#if mayDates}}
    <!-- ðŸŸ§ MAY -->
    <div class="bg-white rounded-lg p-5 shadow space-y-4">
      <h2 class="text-xl font-bold text-[#b5651d] text-center">May 2025</h2>

      {{#each mayDates}}
        <details class="group border border-gray-200 rounded">
          <summary class="flex justify-between items-center p-4 cursor-pointer bg-gray-100">
            <h4 class="text-md text-[#b5651d] font-medium">{{label}}</h4>
            <span class="transition group-open:rotate-180">
              <svg fill="none" height="20" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="20">
                <path d="M6 9l6 6 6-6"></path>
              </svg>
            </span>
          </summary>
          {{#each slots}}
            <div class="p-4 text-sm bg-white text-gray-700 space-y-2">
              <p><strong>Day:</strong> {{day}}</p>
              <p><strong>Date:</strong> {{date}}</p>
              <p><strong>Time:</strong> {{time}}</p>
              
              <!-- YENÄ° FORM -->
              <form method="POST" action="/reserve-slot">
                <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
                <input type="hidden" name="slotId" value="{{../id}}">
                <button type="submit" 
                  class="mt-2 {{#if ../isFull}}bg-gray-400{{else}}bg-[#b5651d]{{/if}} text-white px-3 py-1 rounded hover:{{#if ../isFull}}bg-gray-500{{else}}bg-[#8c4516]{{/if}} transition"
                  {{#if ../isFull}}disabled{{/if}}>
                  {{#if ../isFull}}Fully Booked{{else}}Select this slot{{/if}}
                </button>
              </form>
            </div>
          {{/each}}
        </details>
      {{/each}}
    </div>
    {{/if}}

    <!-- ðŸŸ© JUNE -->
    <div class="bg-white rounded-lg p-5 shadow space-y-4">
      <h2 class="text-xl font-bold text-[#b5651d] text-center">June 2025</h2>

      {{#each juneDates}}
        <details class="group border border-gray-200 rounded">
          <summary class="flex justify-between items-center p-4 cursor-pointer bg-gray-100">
            <h4 class="text-md text-[#b5651d] font-medium">{{label}}</h4>
            <span class="transition group-open:rotate-180">
              <svg fill="none" height="20" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="20">
                <path d="M6 9l6 6 6-6"></path>
              </svg>
            </span>
          </summary>

          {{#each slots}}
            <div class="p-4 text-sm bg-white text-gray-700 space-y-2">
              <p><strong>Day:</strong> {{day}}</p>
              <p><strong>Date:</strong> {{date}}</p>
              <p><strong>Time:</strong> {{time}}</p>
              
              <!-- YENÄ° FORM -->
              <form method="POST" action="/reserve-slot">
                <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
                <input type="hidden" name="slotId" value="{{../id}}">
                <button type="submit" 
                  class="mt-2 {{#if ../isFull}}bg-gray-400{{else}}bg-[#b5651d]{{/if}} text-white px-3 py-1 rounded hover:{{#if ../isFull}}bg-gray-500{{else}}bg-[#8c4516]{{/if}} transition"
                  {{#if ../isFull}}disabled{{/if}}>
                  {{#if ../isFull}}Fully Booked{{else}}Select this slot{{/if}}
                </button>
              </form>
            </div>
          {{/each}}
        </details>
      {{/each}}
    </div>

    {{#if augustDates}}
    <!-- ðŸŸ¦ AUGUST -->
    <div class="bg-white rounded-lg p-5 shadow space-y-4">
      <h2 class="text-xl font-bold text-[#b5651d] text-center">August 2025</h2>

      {{#each augustDates}}
        <details class="group border border-gray-200 rounded">
          <summary class="flex justify-between items-center p-4 cursor-pointer bg-gray-100">
            <h4 class="text-md text-[#b5651d] font-medium">{{label}}</h4>
            <span class="transition group-open:rotate-180">
              <svg fill="none" height="20" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="20">
                <path d="M6 9l6 6 6-6"></path>
              </svg>
            </span>
          </summary>
          {{#each slots}}
            <div class="p-4 text-sm bg-white text-gray-700 space-y-2">
              <p><strong>Day:</strong> {{day}}</p>
              <p><strong>Date:</strong> {{date}}</p>
              <p><strong>Time:</strong> {{time}}</p>
              
              <!-- YENÄ° FORM -->
              <form method="POST" action="/reserve-slot">
                <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
                <input type="hidden" name="slotId" value="{{../id}}">
                <button type="submit" 
                  class="mt-2 {{#if ../isFull}}bg-gray-400{{else}}bg-[#b5651d]{{/if}} text-white px-3 py-1 rounded hover:{{#if ../isFull}}bg-gray-500{{else}}bg-[#8c4516]{{/if}} transition"
                  {{#if ../isFull}}disabled{{/if}}>
                  {{#if ../isFull}}Fully Booked{{else}}Select this slot{{/if}}
                </button>
              </form>
            </div>
          {{/each}}
        </details>
      {{/each}}
    </div>
    {{/if}}

    {{#if septemberDates}}
<!-- ðŸŸ§ SEPTEMBER -->
<div class="bg-white rounded-lg p-5 shadow space-y-4">
  <h2 class="text-xl font-bold text-[#b5651d] text-center">September 2025</h2>

  {{#each septemberDates}}
    <details class="group border border-gray-200 rounded">
      <summary class="flex justify-between items-center p-4 cursor-pointer bg-gray-100">
        <h4 class="text-md text-[#b5651d] font-medium">{{label}}</h4>
        <span class="transition group-open:rotate-180">
          <svg fill="none" height="20" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="20">
            <path d="M6 9l6 6 6-6"></path>
          </svg>
        </span>
      </summary>
      {{#each slots}}
        <div class="p-4 text-sm bg-white text-gray-700 space-y-2">
          <p><strong>Day:</strong> {{day}}</p>
          <p><strong>Date:</strong> {{date}}</p>
          <p><strong>Time:</strong> {{time}}</p>
          
          <!-- YENÄ° FORM -->
          <form method="POST" action="/reserve-slot">
            <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
            <input type="hidden" name="slotId" value="{{../id}}">
            <button type="submit" 
              class="mt-2 {{#if ../isFull}}bg-gray-400{{else}}bg-[#b5651d]{{/if}} text-white px-3 py-1 rounded hover:{{#if ../isFull}}bg-gray-500{{else}}bg-[#8c4516]{{/if}} transition"
              {{#if ../isFull}}disabled{{/if}}>
              {{#if ../isFull}}Fully Booked{{else}}Select this slot{{/if}}
            </button>
          </form>
        </div>
      {{/each}}
    </details>
  {{/each}}
</div>
{{/if}}

{{#if octoberDates}}
<!-- ðŸŸª OCTOBER -->
<div class="bg-white rounded-lg p-5 shadow space-y-4">
  <h2 class="text-xl font-bold text-[#b5651d] text-center">October 2025</h2>

  {{#each octoberDates}}
    <details class="group border border-gray-200 rounded">
      <summary class="flex justify-between items-center p-4 cursor-pointer bg-gray-100">
        <h4 class="text-md text-[#b5651d] font-medium">{{label}}</h4>
        <span class="transition group-open:rotate-180">
          <svg fill="none" height="20" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="20">
            <path d="M6 9l6 6 6-6"></path>
          </svg>
        </span>
      </summary>
      {{#each slots}}
        <div class="p-4 text-sm bg-white text-gray-700 space-y-2">
          <p><strong>Day:</strong> {{day}}</p>
          <p><strong>Date:</strong> {{date}}</p>
          <p><strong>Time:</strong> {{time}}</p>
          
          <!-- YENÄ° FORM -->
          <form method="POST" action="/reserve-slot">
            <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
            <input type="hidden" name="slotId" value="{{../id}}">
            <button type="submit" 
              class="mt-2 {{#if ../isFull}}bg-gray-400{{else}}bg-[#b5651d]{{/if}} text-white px-3 py-1 rounded hover:{{#if ../isFull}}bg-gray-500{{else}}bg-[#8c4516]{{/if}} transition"
              {{#if ../isFull}}disabled{{/if}}>
              {{#if ../isFull}}Fully Booked{{else}}Select this slot{{/if}}
            </button>
          </form>
        </div>
      {{/each}}
    </details>
  {{/each}}
</div>
{{/if}}





  </div>
</div>

<script src="/js/scroll.js"></script>